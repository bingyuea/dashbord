Index: web/Public/static/js/views/xmd.js
===================================================================
--- web/Public/static/js/views/xmd.js	(date 1537600168000)
+++ web/Public/static/js/views/xmd.js	(date 1537600168000)
@@ -1,101 +0,0 @@
-import React, {Component} from 'react'
-import BaseView from '../core/view.base'
-import $ from 'jquery'
-//图表模型
-import {
-  Labelline,
-  Basicbar,
-} from '../ui/ui.charts'
-
-import {
-  ProvinceCountModel,
-  YearCountModel
-} from '../models/business.models';
-
-import Mock from '../mock/mock';
-
-import SearchBar from '../ui/ui.searchbar.js';
-
-import Slider from "react-slick";
-
-//定义数据模型
-const provinceCountModel = ProvinceCountModel.getInstance(),
-      yearCountModel = YearCountModel.getInstance();
-//巡检仪安装情况
-class XMD extends BaseView {
-
-    constructor(props) {
-
-        super(props);
-
-        this.state = {
-        	pageTitle:'巡检仪安装情况查询',
-        }
-    }
-
-    componentDidMount(){
-      
-    }
-
-    renderSearchBar(){
-
-      const barOptions = {
-
-      }
-
-      return(
-        <div className='searchbar-content'>
-          <SearchBar {...barOptions}/>
-        </div>
-      )
-    }
-
-
-    renderPageOne(){
-      return 'as'
-    }
-
-    renderPageTwo(){
-      return 'two'
-    }
-    
-    renderMain(){
-
-      var settings = {
-        dots: false,
-        dotsClass:'slick-dots slick-thumb item_box',
-        autoplay: false,
-        arrows: false,
-        infinite: true,
-        speed: 500,
-        autoplaySpeed:5000,
-        slidesToShow: 1,
-        slidesToScroll: 1,
-        touchMove:true
-      };
-      return (
-        <div className='page-xmd page-slick'>
-          <h1 className='page-title'>{this.state.pageTitle}</h1>
-          <div className='slick-btn'>
-            <div className='btn active'></div>
-            <div className='btn'></div>
-          </div>
-          {this.renderSearchBar()}
-          <div className='page-main slider_content'>
-            <Slider {...settings}>
-              <div className="slider_sec">
-                {this.renderPageOne()}
-              </div>
-              <div className="slider_sec">
-                {this.renderPageTwo()}
-              </div>
-            </Slider>
-          </div>
-        </div>
-      )
-
-    }
-
-}
-
-module.exports = XMD;
\ No newline at end of file
Index: web/Public/static/less/import.less
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\n//private\n@import 'common.less';\n@import 'slick.less';\n@import 'xmd.less';\n@import 'xmd.less';\n// 二次回路单-异常分析 左边\n@import 'secondaryLoopLeft.less';\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- web/Public/static/less/import.less	(date 1537600168000)
+++ web/Public/static/less/import.less	(date 1537599942111)
@@ -3,6 +3,5 @@
 @import 'common.less';
 @import 'slick.less';
 @import 'xmd.less';
-@import 'xmd.less';
 // 二次回路单-异常分析 左边
 @import 'secondaryLoopLeft.less';
Index: web/Public/static/js/ui/ui.searchbar.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import React, {Component} from 'react'\n\nimport { \n\tSelect,\n\tDatePicker,\n\tInput,\n\tIcon\n} from 'antd';\n\nconst Option = Select.Option;\n\nconst { RangePicker, MonthPicker } = DatePicker;\n\nclass SearchBar extends Component {\n\n\tconstructor(props) {\n\n        super(props);\n\n        this.state = {\n        \tsearchValue:{}\n        }\n        \n    }\n\n    inputChangeHandle(key,e){\n    \tconst target = e.target;\n\n        const value = target ? target.value : e ;\n\n        let searchValue = this.state.searchValue;\n\n        searchValue[key] = value;\n\n        this.setState({\n            searchValue: searchValue\n        })\n\n    }\n\n    dataChangeHandle(date, dateString){\n  \t\tconsole.log(date, dateString);\n  \t\tconst key = this.props.dateData.key;\n  \t\tlet searchValue = this.state.searchValue;\n        searchValue[key] = '';\n\n        this.setState({\n        \tsearchValue:searchValue\n        });\n    }\n\n    searchHandle(){\n    \tconst searchValue = this.state.searchValue;\n    \tthis.props.searchHandle && this.props.searchHandle(searchValue);\n    }\n\n    renderSelect(item){\n    \tconst searchValue = this.state.searchValue;\n    \tconst InputChangeHandle = this.props.InputChangeHandle || function(){};\n    \tlet optionContent = item.options.map((optData,optIdx)=>{\n            return <Option key={optIdx} value={optData.value} >{optData.desc}</Option>\n        })\n        return (\n             <Select  disabled={item.disabled || false} value={searchValue[item.key] || 'defaultValue'} onChange={this.inputChangeHandle.bind(this,item.key)}>\n                {optionContent}\n             </Select>\n        )\n    }\n    //省市选择器\n    renderLocationSelect(locationData){\n    \treturn (\n    \t\t<div className='search-item' style={locationData.style}>\n    \t\t\t<div className='title'>{locationData.title}</div>\n    \t\t\t<div className='select-box double'>\n    \t\t\t\t<div className='left'>\n    \t\t\t\t\t<div class='title'>省份</div>\n    \t\t\t\t\t{this.renderSelect(locationData.provinceData)}\n    \t\t\t\t</div>\n    \t\t\t\t<div className='right'>\n    \t\t\t\t\t<div class='title'>城市</div>\n    \t\t\t\t\t{this.renderSelect(locationData.cityData)}\n    \t\t\t\t</div>\n    \t\t\t</div>\n    \t\t</div>\n    \t)\n    }\n\n    //下拉单选\n    renderSingleSelect(item){\n    \treturn (\n    \t\t<div className='search-item' style={item.style}>\n    \t\t\t<div className='title'>{item.title}</div>\n    \t\t\t<div className='select-box'>\n    \t\t\t\t{this.renderSelect(item)}\n    \t\t\t</div>\n    \t\t</div>\n    \t)\n    }\n\n    //时间范围选择器\n    renderDatePicker(item){\n    \treturn (\n    \t\t<div className='search-item' style={item.style}>\n    \t\t\t<div className='title'>{item.title}</div>\n    \t\t\t<div className='select-box'>\n    \t\t\t\t<RangePicker onChange={this.dataChangeHandle.bind(this)} />\n    \t\t\t</div>\n    \t\t</div>\n    \t)\n    }\n\n    //input输入框\n    renderInput(item){\n    \tconst searchValue = this.state.searchValue || {};\n    \treturn (\n    \t\t<div className='search-item' style={item.style}>\n    \t\t\t<div className='title'>{item.title}</div>\n    \t\t\t<div className='select-box'>\n    \t\t\t\t<Input \n                        placeholder={item.placeholder} \n                        value ={searchValue[item.key]} \n                        maxLength= {item.maxlength || 100000}\n                        onChange={this.inputChangeHandle.bind(this,item.key)}\n                        disabled={item.disabled || false} \n                    />\n    \t\t\t</div>\n    \t\t</div>\n\n    \t)\n    }\n\n    renderSearchBtn(){\n    \t<div className='search-item search-btn' onClick={this.searchHandle.bind(this)}>\n\t\t\t<Icon type='search'/>搜索\t\t\t\n\t\t</div>\n    }\n\n    render(){\n\n    \tconst {\n    \t\tlocationData,\n    \t\tmeasureData,\n    \t\ttradeData,\n    \t\tunusualData,\n    \t\tdateData,\n    \t\tthemeData,\n    \t\tinputData\n    \t}  = this.props;\n\n    \treturn (\n    \t\t<div className='search-bar'>\n    \t\t\t{locationData && this.renderLocationSelect(locationData)}\n\t    \t\t{measureData && this.renderSingleSelect(measureData)}\n\t    \t\t{tradeData && this.renderSingleSelect(tradeData)}\n\t    \t\t{unusualData && this.renderSingleSelect(unusualData)}\n\t    \t\t{themeData && this.renderSingleSelect(themeData)}\n\t    \t\t{inputData && this.renderInput(inputData)}\n\t    \t\t{dateData && this.renderDatePicker(dateData)}\t\n\t    \t\t{this.renderSearchBtn()}\n    \t\t</div>\n    \t\t\n    \t)\n\n    }\n\n}\n\nmodule.exports = SearchBar;
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- web/Public/static/js/ui/ui.searchbar.js	(date 1537600168000)
+++ web/Public/static/js/ui/ui.searchbar.js	(date 1537599942103)
@@ -43,7 +43,6 @@
   		const key = this.props.dateData.key;
   		let searchValue = this.state.searchValue;
         searchValue[key] = '';
-
         this.setState({
         	searchValue:searchValue
         });
@@ -54,6 +53,10 @@
     	this.props.searchHandle && this.props.searchHandle(searchValue);
     }
 
+    resetHandle(){
+        
+    }
+
     renderSelect(item){
     	const searchValue = this.state.searchValue;
     	const InputChangeHandle = this.props.InputChangeHandle || function(){};
@@ -73,12 +76,12 @@
     			<div className='title'>{locationData.title}</div>
     			<div className='select-box double'>
     				<div className='left'>
-    					<div class='title'>省份</div>
-    					{this.renderSelect(locationData.provinceData)}
+    					<div className='title'>省份</div>
+    					{this.renderSelect(locationData.province)}
     				</div>
     				<div className='right'>
-    					<div class='title'>城市</div>
-    					{this.renderSelect(locationData.cityData)}
+    					<div className='title'>城市</div>
+    					{this.renderSelect(locationData.city)}
     				</div>
     			</div>
     		</div>
@@ -91,7 +94,7 @@
     		<div className='search-item' style={item.style}>
     			<div className='title'>{item.title}</div>
     			<div className='select-box'>
-    				{this.renderSelect(item)}
+    				{this.renderSelect(item,item.key)}
     			</div>
     		</div>
     	)
@@ -130,25 +133,33 @@
     }
 
     renderSearchBtn(){
-    	<div className='search-item search-btn' onClick={this.searchHandle.bind(this)}>
-			<Icon type='search'/>搜索			
-		</div>
+        return (
+            <div className='btn-box'>
+            	<div className=' search-btn' onClick={this.searchHandle.bind(this)}>
+        			<Icon type='search'/>搜索			
+        		</div>
+                <div className='search-btn' onClick={this.resetHandle.bind(this)}>
+                    <Icon type='search'/>重置        
+                </div>
+            </div>
+        )
+
     }
 
     render(){
 
     	const {
-    		locationData,
-    		measureData,
-    		tradeData,
-    		unusualData,
-    		dateData,
-    		themeData,
+    		locationData,//省市
+    		measureData,//计量类型
+    		tradeData,//行业类型
+    		unusualData,//异常类型
+    		dateData,//时间段选择
+    		themeData,//主题类型
     		inputData
     	}  = this.props;
 
     	return (
-    		<div className='search-bar'>
+    		<div className='searchbar-content'>
     			{locationData && this.renderLocationSelect(locationData)}
 	    		{measureData && this.renderSingleSelect(measureData)}
 	    		{tradeData && this.renderSingleSelect(tradeData)}
